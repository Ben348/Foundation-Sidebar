;(function($,f,g,h){var i='sidebar',dataPlugin='plugin_'+i,defaults={speed:'normal',dropdownToggled:function(a,b,c){},menuToggled:function(a){},breakpointPassed:function(a){}};var j=function(a){this.options=$.extend({},defaults);this.element=$(a);this._breakpoint=null};var k=function(a,b){var c=a;var d=$(b).parent();if(d.hasClass('active')){d.removeClass('active');d.find('.dropdown-menu').stop().slideUp(c.options.speed,function(){c.options.dropdownToggled(false,d)})}else{var e=d.parent().find('.active');e.removeClass('active');e.find('.dropdown-menu').slideUp(c.options.speed,function(){c.options.dropdownToggled(false,e)});d.addClass('active');d.find('.dropdown-menu').stop().slideDown(c.options.speed,function(){c.options.dropdownToggled(true,d)})}};var l=function(a,b){var c=a;if(c.element.hasClass('open')){c.element.find('.sidebar-nav').stop().slideUp(c.options.speed,function(){c.element.removeClass('open');c.options.menuToggled(false)})}else{c.element.find('.sidebar-nav').stop().slideDown(c.options.speed,function(){c.element.addClass('open');c.options.menuToggled(true)})}};var m=function(a){var b=a;if(b.breakpoint()!==b._breakpoint){b._breakpoint=b.breakpoint();b.options.breakpointPassed(b.breakpoint());if(b.element.hasClass('open')){b.element.removeClass('open').find('.sidebar-nav').hide()}}};j.prototype={init:function(b){var c=this;$.extend(this.options,b);Foundation.utils.register_media('sidebar','custom-mq-sidebar');c._breakpoint=c.breakpoint();c.element.find('.dropdown > a').click(function(a){a.preventDefault();k(c,this)});c.element.find('.toggle-topbar > a').click(function(a){a.preventDefault();l(c,this)});$(f).resize(function(){m(c)})},destroy:function(){this.element.data(dataPlugin,null)},breakpoint:function(){return!matchMedia(Foundation.media_queries['sidebar']).matches}};$.fn[i]=function(a){var b,instance;if(!(this.data(dataPlugin)instanceof j)){this.data(dataPlugin,new j(this))}instance=this.data(dataPlugin);instance.element=this;if(typeof a==='undefined'||typeof a==='object'){if(typeof instance['init']==='function'){instance.init(a)}}else if(typeof a==='string'&&typeof instance[a]==='function'){b=Array.prototype.slice.call(arguments,1);return instance[a].apply(instance,b)}else{$.error('Method '+a+' does not exist on jQuery.'+i)}}}(jQuery,window,document));