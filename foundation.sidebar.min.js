;(function($,e,f,g){var h='sidebar',defaults={speed:'normal',dropdownToggled:function(a,b,c){},menuToggled:function(a){},breakpointPassed:function(a){}};function Plugin(a,b){this.element=$(a);this.settings=$.extend({},defaults,b);this._breakpoint=this.breakpoint();this.init()}Plugin.prototype={init:function(){var b=this;Foundation.utils.register_media('sidebar','custom-mq-sidebar');b.element.find('.dropdown > a').click(function(a){a.preventDefault();b.toggleDropdownItems(this)});b.element.find('.toggle-topbar > a').click(function(a){a.preventDefault();b.toggleMenu(this)});$(e).resize(function(){b.resize()})},toggleDropdownItems:function(a){var b=this;var c=$(a).parent();if(c.hasClass('active')){c.removeClass('active');c.find('.dropdown-menu').stop().slideUp(b.settings.speed,function(){b.settings.dropdownToggled(false,c,b.breakpoint())})}else{var d=c.parent().find('.active');d.removeClass('active');d.find('.dropdown-menu').slideUp(b.settings.speed,function(){b.settings.dropdownToggled(false,c,b.breakpoint())});c.addClass('active');c.find('.dropdown-menu').stop().slideDown(b.settings.speed,function(){b.settings.dropdownToggled(true,c,b.breakpoint())})}},toggleMenu:function(a){var b=this;if(b.element.hasClass('open')){b.element.find('.sidebar-nav').stop().slideUp(b.settings.speed,function(){b.element.removeClass('open');b.settings.menuToggled(false)})}else{b.element.find('.sidebar-nav').stop().slideDown(b.settings.speed,function(){b.element.addClass('open');b.settings.menuToggled(true)})}},breakpoint:function(){return!matchMedia(Foundation.media_queries['sidebar']).matches},resize:function(){var a=this;if(a.breakpoint()!==a._breakpoint){a._breakpoint=a.breakpoint();a.settings.breakpointPassed(a.breakpoint());if(a.element.hasClass('open')){a.element.removeClass('open').find('.sidebar-nav').hide()}}}};$.fn[h]=function(a){return this.each(function(){if(!$.data(this,'plugin_'+h)){$.data(this,'plugin_'+h,new Plugin(this,a))}})}})(jQuery,window,document);